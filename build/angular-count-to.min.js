
var countTo=angular.module("countTo",[]).directive("countTo",["$timeout",function(n){return{replace:!1,scope:!0,link:function(t,i,r){var e=i[0],u,o,c,s,h,f,l,a,p=function(){o=30;h=0;t.timoutId=null;t.delayTimeoutId=null;f=parseInt(r.countTo)||0;t.value=parseInt(r.value,10)||0;c=parseFloat(r.duration)*1e3||0;a=parseFloat(r.startupDelay)*1e3||0;s=Math.ceil(c/o);l=(f-t.value)/s;u=t.value},v=function(){t.timoutId=n(function(){u+=l;h++;h>=s?(n.cancel(t.timoutId),u=f,e.textContent=f):(e.textContent=Math.round(u),v())},o)},y=function(){t.delayTimeoutId&&n.cancel(t.delayTimeoutId);t.timoutId&&n.cancel(t.timoutId);p();e.textContent=t.value;t.delayTimeoutId=n(function(){v()},a)};return r.$observe("countTo",function(n){n&&y()}),r.$observe("value",function(){y()}),!0}}}]);